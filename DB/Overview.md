# ✨ DB Overview ✨

## **데이터베이스 설계**

- 데이터베이스의 목적 : 컴퓨터 언어를 통해 데이터 조작 및 관리
- 데이터에비스의 설계 과정 = 시스템설계 과정
  - 시스템에서 어떻게 구성이 되는가?
  - 정보시스템들은 효율을 위해 만들어졌다

1. 시스템의 UI로부터 파악하고 데이터베이스를 만듦!
2. 요구사항 문서로부터 유추!

## **데이터베이스 설계 방법**

- 시스템에 사용되는 속성들을 list-up -> 속성들로부터 entity를 list-up
  - entity : 행동을 하는 객체, 영향을 받는 객체, 목적어로 들어가는 명사
- entity 간의 relation을 유추
  - entity 및 relation table 생성, primary key
- 중복되는 attribute 제거, 정규화
  - 계산으로 나와야하는 attribute를 생각
- primary key 생각

> > 명사 -> Entity, Attribute, 동사 -> Relation, 숨겨진 Hidden state 고려

- Hidden state : 화면에 표시하진 않지만 저장하는 변수

## **속성을 선정할 때 고려해야할 것들**

- 속성은 특징 한개의 집합 = 다중 특징 X
- 반드시 Primary key를 지정
  - 기본키는 string 혹은 autoincrement
  - 필요한 경우 compound key (복합키)를 사용
- 중복되어 저장되는 속성이 없도록 함 (정규화)
  - 변경, 삭제시 어려움
- 계층/연속해서 나타나는 데이터는 어떻게 표현해야 할까?
  - 연결관계를 표현하는 데이터 -> 누적해서 자신의 조상 (prev) 번호를 가지도록 한다
- 계산 속성은 view를 통해 업데이트해서 제공

  - 계산 속성은 테이블의 변경, 삭제 등 때마다 업데이트 필요
  - 모든 테이블을 다 찾아서 업데이트 어려움 -> view, trigger를 통해 해결

### **entity Relation Diagram**

- DB상에 존재하는 entity들 간의 관계를 표현
- 관계들의 정보를 표현하여 DB의 구성을 완성함

## **table를 선정할 때 고려해야할 것들**

- 테이블을 표현할 때 우형에 따라 나눈다
  |테이블 유형||
  |:--:|:--|
  |데이터 테이블| 중요 데이터 소유|
  |연결 테이블 (linnking table) | 관계에 대한 정보 제공|
  | 부분집합 테이블 (subset table) |한 테이블에 대한 자세한 정보|

### **table 이름 설정시 고려할 점**

- 정확하고 모호하지 않은 이름 사용
- 정체조직이 이해가능한 서술적 이름
- 단수형을 사용, 이름을 짧게
- 약어는 되도록 사용 X
- 물리적 특성 (record, file 등) 사용 X

## **Relations**

- 두 개 테이블의 관계 = 속성을 공유하는 방법
  - 데이터베이스 구현상 남겨야 하는지 아니면 기록으로 남겨야 하는지 구분! -> 행위인지 기록인지

|        Relations        |                                                                                        |
| :---------------------: | :------------------------------------------------------------------------------------- |
| 1:1 (self relationship) | 한 개의 테이블의 상세내용 (= subset 테이블)                                            |
|           1:m           | 한 개 테이블과 관련된 m개의 instance정보가 다른 테이블에 어떻게 존재하는지 보여주는 것 |
|   m:n(linking table)    | 보통 1:m 관계를 가진 두개의 테이블을 연결해주는 테이블 1:m + m:1 => m:n                |
